@model IEnumerable<bookfortable.Models.Product>

@{
    ViewData["Title"] = "List";
}

<style>

    h1 {
        margin-top: 40px; /* 上邊距 */
        margin-bottom: 20px; /* 下邊距 */
        margin-left: 10px; /* 左邊距 */
        margin-right: 40px; /* 右邊距 */
    }
    /* 調整表格欄位寬度 */
    table {
        width: 80%;
    }

    th, td {
        padding: 8px; /* 添加填充 */
    }

        /* 調整每個欄位的寬度 */
        th:nth-child(1), td:nth-child(1) {
            width: 10%;
        }

        th:nth-child(2), td:nth-child(2) {
            width: 25%;
        }

        th:nth-child(3), td:nth-child(3) {
            width: 15%;
        }

        th:nth-child(4), td:nth-child(4) {
            width: 15%;
        }

        th:nth-child(5), td:nth-child(5) {
            width: 20%;
        }

        th:nth-child(6), td:nth-child(6) {
            width: 15%;
        }


    .details {
        padding: 10px;
        margin-top: 10px;
        background-color: #f9f9f9;
        border: 1px solid #ccc;
        border-radius: 5px;
    }
</style>



</style>




<h1>書籍資料一覽</h1>

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="#">總覽</a></li>
        <li class="breadcrumb-item active" aria-current="page">書籍資料一覽</li>
    </ol>
</nav>

@using (Html.BeginForm())
{
    @: 關鍵字 @Html.TextBox("txtKeyword")
    <input type="submit" value="查詢" />
    <a asp-action="ClearSearch">清空查詢</a>

}
@{
    int totalCount = Model.Count();
    <h5 style="color: red; margin-top: 30px;">共有 @totalCount 筆相關資料</h5>
}

<div class="container">
    @*     <nav aria-label="Page navigation example">
    <ul class="pagination">
    <li class="page-item">
    <a class="page-link" href="#" aria-label="Previous">
    <span aria-hidden="true">&laquo;</span>
    <span class="sr-only">Previous</span>
    </a>
    </li>
    <li class="page-item"><a class="page-link" href="#">1</a></li>
    <li class="page-item"><a class="page-link" href="#">2</a></li>
    <li class="page-item"><a class="page-link" href="#">3</a></li>
    <li class="page-item">
    <a class="page-link" href="#" aria-label="Next">
    <span aria-hidden="true">&raquo;</span>
    <span class="sr-only">Next</span>
    </a>
    </li>
    </ul>
    </nav> *@


    <div style="text-align: right;">
        <a asp-action="Create" class="btn btn-secondary btn-lg">＋新增書籍資料</a>
    </div>
    <table class="table">
        <thead>
            <tr>
                <th>
                    序號
                    @*                 @Html.DisplayNameFor(model => model.ProductId) *@
                </th>
                <th>
                    書籍名稱

                    @*                 @Html.DisplayNameFor(model => model.ProductName) *@
                </th>
                <th>
                    出版社
                    @*                 @Html.DisplayNameFor(model => model.SupplierId) *@
                </th>
                <th>
                    封面照片
                    @*                 @Html.DisplayNameFor(model => model.ProductPhoto) *@
                </th>
                <th>
                    書籍介紹
                    @*                 @Html.DisplayNameFor(model => model.Description) *@
                </th>
                @*                 <th>
                單價
                @Html.DisplayNameFor(model => model.UnitPrice)
                </th>
                <th>
                庫存量

                @Html.DisplayNameFor(model => model.UnitsInStock)
                </th>
                <th>
                版本資訊
                @Html.DisplayNameFor(model => model.VersionInfo)
                </th>
                <th>
                售價
                @Html.DisplayNameFor(model => model.SellingPrice)
                </th>
                <th>
                國際索書號
                @Html.DisplayNameFor(model => model.Isbn)
                </th> *@
            </tr>
        </thead>
        <tbody>
            @{
                int count = 0;
                foreach (var item in Model)
                {
                    count++;
                    <tr>
                        <td>
                            @count
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.ProductName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.SupplierId)
                        </td>
                        <td>
                            <img src="~/images/@item.ProductPhoto" width="110" height="120" />
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Description)
                        </td>
                        @*                       <td>
                @Html.DisplayFor(modelItem => item.UnitPrice)
                </td>
                <td>
                @Html.DisplayFor(modelItem => item.UnitsInStock)
                </td>
                <td>
                @Html.DisplayFor(modelItem => item.VersionInfo)
                </td>
                <td>
                @Html.DisplayFor(modelItem => item.SellingPrice)
                </td>
                <td>
                @Html.DisplayFor(modelItem => item.Isbn)
                </td>*@
                        <td>
                            @*Html.ActionLink("編輯", "Edit", new { id = item.ProductId }) |*@
                            <button type="button" class="btn btn-dark btn-sm" onclick="location.href='@Url.Action("Edit", new { id = item.ProductId })'">編輯</button>
                            @*Html.ActionLink("刪除", "Delete", "Product", new { id = item.ProductId }, new { onclick = "return confirm('確定要刪除嗎')" })*@
                            <button type="button" class="btn btn btn-warning btn-sm" onclick="confirmDelete('@item.ProductId')">刪除</button>
                            <button class="btn btn-info btn-sm" onclick="toggleDetails(this)">顯示詳細資料</button>
                            <div class="details" style="display: none;">
                                @{
                                    ViewData["Title"] = "Create";
                                }
                        </td>

                    </tr>
                }
            }
        </tbody>
    </table>

</div>

<script>
    function confirmDelete(productId) {
        if (confirm('確定要刪除嗎？')) {
            location.href = '@Url.Action("Delete", "Product")?id=' + productId;
        }
    }

    // document.getElementById("previous").addEventListener("click", function (event) {
    //     event.preventDefault(); // 防止點擊鏈接時頁面跳轉
    //     // 在這裡添加上一頁的邏輯
    // });

    // document.getElementById("next").addEventListener("click", function (event) {
    //     event.preventDefault(); // 防止點擊鏈接時頁面跳轉
    //     // 在這裡添加下一頁的邏輯
    // });

    function toggleDetails(button) {
        var details = button.nextElementSibling;
        if (details.style.display === "none") {
            details.style.display = "block";
        } else {
            details.style.display = "none";
        }
    }
</script>

